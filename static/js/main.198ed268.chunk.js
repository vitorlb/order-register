(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),o=a(29),i=a.n(o),c=(a(36),a(37),a(38),a(9)),u=a(3),l=a(4),d=a(8),h=a(6),j=a(5),b=(a(39),a(18)),p=a(2),v=(a(40),a(41),a(15)),O=a.n(v),f="http://localhost:3002/zonas",m=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).state={nome:""},s}return Object(l.a)(a,[{key:"getMesasZonas",value:function(){var e=this;O.a.get("".concat(f,"/").concat(this.props.id)).then((function(t){console.log("**  activated  **");var a=t.data.mesas,s=t.data.nome,n=Object.values(a);console.log(n,s),e.displayMesasZonas(n,s)}))}},{key:"displayMesasZonas",value:function(e,t){var a=[];e.forEach((function(e){a.push(e)})),this.props.renderMesas(a,t)}},{key:"componentWillMount",value:function(){var e=this;O.a.get("".concat(f,"/").concat(this.props.id)).then((function(t){var a=t.data.nome;e.setState({nome:a})}))}},{key:"render",value:function(){var e=this;return Object(s.jsx)("button",{onClick:function(t){return e.getMesasZonas(t)},children:this.state.nome})}}]),a}(n.Component),g=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.btnFunction,a=e.children,n=e.className;return Object(s.jsx)("button",{onClick:function(e){return t(e)},className:n,children:a})}}]),a}(n.Component),x=(a(61),function(e){return Object(s.jsx)("div",{className:"mesa",children:Object(s.jsx)("button",{value:e.nome,onClick:function(t){return e.btnFunction(t)},className:"mesa-btn",children:e.nome})})}),y=a(14),k=(a(62),{semSopaCheck:!1,checkZerar:!1}),M=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).zerarValor=function(){if(!0===s.props.reset){for(var e in console.log("yoyoyoyyo"),s.state)delete s.state[e];s.setState(Object(c.a)({},k))}},s.state=Object(c.a)({},k),s.saveSemSopa=s.saveSemSopa.bind(Object(d.a)(s)),s.saveProduto=s.saveProduto.bind(Object(d.a)(s)),s.retroceder=s.retroceder.bind(Object(d.a)(s)),s.returnQuantity=s.returnQuantity.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.props.item;this.props.reset!==e.reset&&this.state[a]&&(this.setState(Object(y.a)({},a,null)),k[a]=null,console.log("item ".concat(a," recebe fun\xe7\xe3o reset"),"   estado",this.state))}},{key:"saveProduto",value:function(e){var t=this,a=this.props.item;if("s/s"===this.props.item)this.saveSemSopa(a,e);else{if(k["".concat(a)]){var s=k[a];s++,k[a]=s}else k[a]=1;this.setState(Object(y.a)({},a,k[a]),(function(){console.log("estado",t.state)}));var n=k,r=a;this.props.getProduto(n,r)}}},{key:"saveSemSopa",value:function(e,t){var a;t=t.target.previousSibling.previousSibling.previousSibling.innerHTML;var s="".concat(t,"SemSopa");if(k["".concat(s)]){var n=k[s];n++,k[s]=n}else k[s]=1;var r=k,o=s;this.setState((a={},Object(y.a)(a,s,k[s]),Object(y.a)(a,"semSopaCheck",k[s]),a)),this.props.getProduto(r,o)}},{key:"retroceder",value:function(e){var t=e.target.nextSibling.innerHTML,a=null,s=null;"s/s"===t&&(a=e.target.previousSibling.previousSibling.innerHTML);s=null===a?t:"".concat(a,"SemSopa");var n=this.state[s];n?k[s]=n-1:console.log("not defined"),this.setState(Object(y.a)({},s,k[s]));var r=k,o=s;"s/s"===t&&this.setState({semSopaCheck:k[s]}),this.props.getProduto(r,o)}},{key:"returnQuantity",value:function(){var e=this.props.item;return!1===this.state.semSopaCheck?Object(s.jsxs)("span",{className:"badge badge-warning",children:[this.state[e]," "]}):Object(s.jsxs)("span",{className:"badge badge-warning",children:[this.state.semSopaCheck," "]})}},{key:"render",value:function(){var e=this.props.item;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(g,{btnFunction:this.retroceder,children:"\u21b5"}),Object(s.jsx)(g,{btnFunction:this.saveProduto,children:e}),this.returnQuantity()]})}}]),a}(n.Component),S=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).state={reset:s.props.reset},s.getProduto=s.props.getProduto,s}return Object(l.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this;this.props.item;this.props.reset!==e.reset&&this.setState({reset:!0},(function(){console.log("atual, ",a.state)}))}},{key:"render",value:function(){var e=this;console.log("estado ",this.state);return["CVT","CVB","fino","ch\xe1Dia","agua","limonada","pedras","cervS/Alcool"].map((function(t,a){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"bebida ".concat(t),children:[" ",Object(s.jsx)(M,{reset:e.props.reset,getProduto:e.getProduto,item:t})," "]},a)})}))}}]),a}(n.Component),D={},C=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).refPass=function(){s.addProduto.current.zerarValor()},s.hitRender=function(){console.log(window.location),s.render()},s.myRef=r.a.createRef(),s.state=Object(c.a)(Object(c.a)({},D),{},{reset:!1}),s.getProduto=s.getProduto.bind(Object(d.a)(s)),s.saveMesa=s.saveMesa.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"getProduto",value:function(e,t){D[t]=e[t],this.setState(Object(y.a)({},t,e[t]))}},{key:"saveMesa",value:function(){var e=this;if(null!==this.props.mesa){var t=D,a=this.state.reset;for(var s in a=!a,console.log("mesa =>",t),this.props.getMesaData(t),this.state)s!==a&&delete this.state[s];this.setState({reset:a},(function(){return console.log("resett",e.state)})),D={},this.props.mesaUnCheck()}else alert("escolha uma mesa")}},{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"prato-dia-wrapper",children:[Object(s.jsxs)("div",{children:[Object(s.jsx)(M,{reset:this.state.reset,item:"pdv",getProduto:this.getProduto}),Object(s.jsx)(M,{reset:this.state.reset,item:"s/s",getProduto:this.getProduto})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)(M,{reset:this.state.reset,item:"pd",getProduto:this.getProduto}),Object(s.jsx)(M,{reset:this.state.reset,item:"s/s",getProduto:this.getProduto})]}),Object(s.jsx)(S,{reset:this.state.reset,getProduto:this.getProduto})]})})}}]),a}(n.Component),P={id:0,conteudo:null,mesa:null,mesas:[],zona:""},N=!1,F=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).state=Object(c.a)({},P),s.renderMesas=s.renderMesas.bind(Object(d.a)(s)),s.escolherMesa=s.escolherMesa.bind(Object(d.a)(s)),s.getMesaData=s.getMesaData.bind(Object(d.a)(s)),s.mesaUnCheck=s.mesaUnCheck.bind(Object(d.a)(s)),s.saveMesa=s.saveMesa.bind(Object(d.a)(s)),s.mesaJourneyRef=r.a.createRef(),s}return Object(l.a)(a,[{key:"getMesaData",value:function(e){var t=this,a=this.state,s=a.id,n=a.conteudo,r=a.mesa,o=a.zona;n=e,s++;var i=Object.keys(n).length;if(s&&r&&i>0){this.setState({conteudo:n,id:s},(function(){console.log("fim",t.state)}));var u={mesa:r,conteudo:n,zona:o};console.log("postPedido =>",u);O.a.post("http://localhost:3002/pedidos",u).then((function(e){alert("Mesa ".concat(r," guardada"))})),this.setState(Object(c.a)(Object(c.a)({},P),{},{id:s}),(function(){console.group("reset",t.state)}))}else r||alert("escolha uma mesa"),r&&0===i&&alert("mesa sem produtos")}},{key:"escolherMesa",value:function(e){var t=this;if(!1===N){var a=this.state.mesa,s=e.target.value;a=s,this.setState({mesa:a},(function(){return console.log("mesa",a,t.state)}))}else console.log("aberta mesa",this.state.mesa)}},{key:"saveMesa",value:function(){this.mesaJourneyRef.current.saveMesa()}},{key:"mesaCheck",value:function(){N=!0}},{key:"mesaUnCheck",value:function(){N=!1,this.setState(Object(c.a)(Object(c.a)({},this.state),{},{mesa:null}))}},{key:"renderMesas",value:function(e,t){this.setState({zona:t,mesas:e})}},{key:"pintaMesas",value:function(){var e=this,t=this.state.mesas;if(0!==t.length)return Object(s.jsxs)("div",{className:"lista-mesas",children:[t.map((function(t,a){return Object(s.jsx)(x,{btnFunction:e.escolherMesa,nome:t},a)})),Object(s.jsx)(g,{className:"confirm",btnFunction:this.mesaCheck,children:"Confirmar"})]})}},{key:"render",value:function(){return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)("section",{children:[Object(s.jsxs)("h4",{children:["Mesa ",this.state.mesa]}),Object(s.jsx)(C,{ref:this.mesaJourneyRef,mesaUnCheck:this.mesaUnCheck,mesa:this.state.mesa,getMesaData:this.getMesaData})]}),Object(s.jsxs)("section",{className:"zonas",children:[Object(s.jsx)(m,{renderMesas:this.renderMesas,id:"1",children:" "}),Object(s.jsx)(m,{renderMesas:this.renderMesas,id:"2",children:" "}),Object(s.jsx)(m,{renderMesas:this.renderMesas,id:"3",children:" "}),Object(s.jsx)(m,{renderMesas:this.renderMesas,id:"4",children:" "}),Object(s.jsxs)("div",{className:"display-mesas",children:[Object(s.jsx)("p",{children:this.state.zona}),this.pintaMesas()]})]}),Object(s.jsx)("section",{children:Object(s.jsx)("div",{children:Object(s.jsx)(g,{btnFunction:this.saveMesa,children:"Salvar Mesa"})})})]})}}]),a}(n.Component),w=(a(63),function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)(b.b,{to:this.props.link,className:this.props.className,children:this.props.children})}}]),a}(n.Component)),G=[],z=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={pedidos:[]},e.keyValues=function(e){var t=[];for(var a in e)t.push("".concat(a," : ").concat(e[a]));return console.log(t),t.map((function(e){return Object(s.jsx)("p",{children:e})}))},e.logButton=function(){console.log("yoyoyoy")},e.renderMesas=function(){return console.log("estado",e.state.pedidos.length),Object(s.jsx)("div",{className:"dataMesas",children:e.state.pedidos.map((function(t){return Object(s.jsxs)("div",{className:"dataMesa",children:[Object(s.jsxs)("div",{className:"titulo",children:["Mesa ",t.mesa,Object(s.jsx)(g,{btnFunction:e.logButton,children:Object(s.jsx)(w,{link:"/pedidos",children:"\u270e"})})]}),Object(s.jsx)("hr",{}),Object(s.jsx)("div",{className:"conteudo",children:e.keyValues(t.conteudo)})]})}))})},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.get("http://localhost:3002/pedidos").then((function(t){var a=t.data;G=a,e.setState({pedidos:G}),console.log("pedidos info => ",a)}))}},{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:this.renderMesas()})}}]),a}(n.Component),H=function(e){return Object(s.jsxs)(p.c,{children:[Object(s.jsx)(p.a,{exact:!0,path:"/pedidos",component:F}),Object(s.jsx)(p.a,{path:"/historico",component:z})]})},T=(a(72),function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).state={botaoGravarDia:s.props.state.botaoGravarDia},s}return Object(l.a)(a,[{key:"diaDeHoje",value:function(){var e=this.props.state.dia,t=this.getDataDeHoje();e.data=t,console.log(e),this.setState({dia:e}),this.setState({botaoGravarDia:!0}),this.botaoGravarDia()}},{key:"getDataDeHoje",value:function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()).padStart(2,"0"),s=e.getFullYear();return"".concat(t," / ").concat(a," / ").concat(s)}},{key:"botaoGravarDia",value:function(){var e=this;return!0===this.state.botaoGravarDia?Object(s.jsx)("button",{type:"button",className:"btn btn-outline-success",onClick:function(t){return e.props.salvarDia(t)},children:" \u2713 "}):void 0}},{key:"render",value:function(){var e=this;return Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{type:"button",className:"btn btn-outline-danger",onClick:function(t){return e.diaDeHoje(t)},children:"Abrir Dia "}),Object(s.jsx)("div",{children:Object(s.jsxs)("p",{children:[this.props.state.dia.data,"  ",this.botaoGravarDia()]})})]})}}]),a}(n.Component)),U=(a(73),function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(u.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).renderText=function(){return!0===e.props.state.botaoGravarDia?e.props.state.dia.data:"Duas de Letra"},e.alert=function(){console.log(e.props.state)},e}return Object(l.a)(a,[{key:"render",value:function(){return Object(s.jsx)("header",{children:Object(s.jsx)("p",{children:this.renderText()})})}}]),a}(n.Component)),R={dia:{data:"obter data",pedidos:[]},botaoGravarDia:!1},A="http://localhost:3002/dias",L=function(e){Object(h.a)(a,e);var t=Object(j.a)(a);function a(e){var s;return Object(u.a)(this,a),(s=t.call(this,e)).alert=function(){return console.log("alerta")},s.state=Object(c.a)({},R),s.salvarDia=s.salvarDia.bind(Object(d.a)(s)),s}return Object(l.a)(a,[{key:"salvarDia",value:function(){var e=this,t=this.state.dia;console.log(t);var a=t.id?"put":"post",s=t.id?"".concat(A,"/").concat(t.id):A;O.a[a](s,t).then((function(a){t.id&&alert("dia j\xe1 come\xe7ou"),t=a.data,e.setState({dia:t,botaoGravarDia:!0}),console.log("adicionado",e.state.dia)}))}},{key:"render",value:function(){return Object(s.jsx)(b.a,{children:Object(s.jsx)("main",{className:"App-header",children:Object(s.jsxs)("div",{className:"wrapper",children:[Object(s.jsx)(U,{state:this.state}),Object(s.jsx)(T,{salvarDia:this.salvarDia,state:this.state}),Object(s.jsxs)("nav",{children:[Object(s.jsx)(w,{link:"/pedidos",children:"Novo Pedido"}),Object(s.jsx)(w,{link:"/historico",children:"Historico Pedidos"})]}),Object(s.jsx)(H,{})]})})})}}]),a}(n.Component);a(74);var V=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("header",{}),Object(s.jsx)(L,{})]})},B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,76)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),s(e),n(e),r(e),o(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(V,{})}),document.getElementById("root")),B()}},[[75,1,2]]]);
//# sourceMappingURL=main.198ed268.chunk.js.map